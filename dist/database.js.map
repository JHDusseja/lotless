{"version":3,"sources":["../src/database.js"],"names":["getConnection","performQuery","pool","createPool","host","user","password","database","Promise","resolve","reject","err","connection","console","log","sql","inserts","then","query","results","fields","catch"],"mappings":";;;;;QASgBA,a,GAAAA,a;QAYAC,Y,GAAAA,Y;;AArBhB;;;;;;AAEA,IAAMC,OAAQ,gBAAMC,UAAN,CAAiB;AAC3BC,UAAW,WADgB;AAE3BC,UAAW,MAFgB;AAG3BC,cAAW,MAHgB;AAI3BC,cAAW;AAJgB,CAAjB,CAAd;;AAOO,SAASP,aAAT,GAAyB;AAC5B,WAAO,IAAIQ,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC1CR,aAAKF,aAAL,CAAmB,UAAUW,GAAV,EAAeC,UAAf,EAA2B;AAC1C,gBAAGD,GAAH,EAAQ;AACJE,wBAAQC,GAAR,CAAY,0CAAZ;AACAJ,uBAAOC,GAAP;AACH;AACDF,oBAAQG,UAAR;AACH,SAND;AAOH,KARM,CAAP;AASH;;AAEM,SAASX,YAAT,CAAsBc,GAAtB,EAA2BC,OAA3B,EAAoC;AACvC,WAAO,IAAIR,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC1CV,wBAAgBiB,IAAhB,CAAqB,UAAUL,UAAV,EAAsB;AACvCA,uBAAWM,KAAX,CAAiBH,GAAjB,EAAsBC,OAAtB,EAA+B,UAAUL,GAAV,EAAeQ,OAAf,EAAwBC,MAAxB,EAAgC;AAC3D,oBAAGT,GAAH,EAAQD,OAAOC,GAAP;AACRF,wBAAQU,OAAR;AACH,aAHD;AAIH,SALD,EAKGE,KALH,CAKS,UAAUV,GAAV,EAAe;AACpBD,mBAAOC,GAAP;AACH,SAPD;AAQH,KATM,CAAP;AAUH","file":"database.js","sourcesContent":["import mysql from 'mysql';\r\n\r\nconst pool  = mysql.createPool({\r\n    host     : 'localhost',\r\n    user     : 'root',\r\n    password : 'root',\r\n    database : 'lotlessss'\r\n});\r\n\r\nexport function getConnection() {\r\n    return new Promise(function (resolve, reject) {\r\n        pool.getConnection(function (err, connection) {\r\n            if(err) {\r\n                console.log(\"Error while getting connection from pool\");\r\n                reject(err);\r\n            }\r\n            resolve(connection);\r\n        })\r\n    });\r\n}\r\n\r\nexport function performQuery(sql, inserts) {\r\n    return new Promise(function (resolve, reject) {\r\n        getConnection().then(function (connection) {\r\n            connection.query(sql, inserts, function (err, results, fields) {\r\n                if(err) reject(err);\r\n                resolve(results);\r\n            })\r\n        }).catch(function (err) {\r\n            reject(err);\r\n        });\r\n    });\r\n}\r\n\r\n\r\n"]}